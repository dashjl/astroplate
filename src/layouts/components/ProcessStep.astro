---
/**
 * ProcessStep Component
 * Renders a single step in a vertical process list.
 *
 * @param {string} title - The title of the step.
 * @param {string} goal - The goal description for the step.
 * @param {string} action - The action description for the step.
 * @param {object} [icon] - The icon for the step (optional, expected to be an object with src, width, height).
 * @param {string} [color='indigo'] - A base color name (e.g., 'indigo', 'teal', 'blue') for styling.
 * @param {number} stepNumber - The sequential number of the step.
 * @param {boolean} isLast - True if this is the last step, to hide the connecting line.
 */
const { title, goal, action, icon, color = 'indigo', stepNumber, isLast } = Astro.props;

// Define color classes based on the 'color' prop
const circleBgColor = `bg-${color}-600 dark:bg-${color}-500`;
const lineColor = `bg-${color}-500 dark:bg-${color}-400`;
---

<div class="relative pl-24">
  <!-- Connecting Line -->
  {!isLast && (
    <div class:list={["absolute left-8 top-0 h-[calc(100%+2.5rem)] w-0.5", lineColor]} style="bottom: -2.5rem;"></div>
  )}

  <!-- Numbered Circle with Icon -->
  <div class:list={["absolute top-0 left-0 flex size-16 items-center justify-center rounded-full text-white font-bold text-xl", circleBgColor]}>
    {icon ? (
      <img src={icon.src} alt={`Step ${stepNumber}`} width={icon.width} height={icon.height} class="size-6 text-white" aria-hidden="true"></img>
    ) : (
      <span>{stepNumber}</span>
    )}
  </div>

  <!-- Content -->
  <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{title}</h3>
  <p class="mt-1 text-base text-gray-600 dark:text-gray-400">
    <strong class="font-semibold">Goal:</strong> {goal}
  </p>
  <p class="mt-1 text-base text-gray-600 dark:text-gray-400">
    <strong class="font-semibold">Action:</strong> {action}
  </p>
</div>

<!-- Icon
 
-->
